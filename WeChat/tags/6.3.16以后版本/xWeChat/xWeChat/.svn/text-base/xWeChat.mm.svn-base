#line 1 "/Users/saul/Documents/WeMedia/WeChat/测试/xWeChat/xWeChat/xWeChat.xm"






#import "WeChat/CMainControll.h"
#import "WeChat/MMWebViewController.h"
#import "WeChat/MoreViewController.h"
#import "WeChat/NewSettingViewController.h"
#import "WeChat/CAppViewControllerManager.h"
#import "WeChat/MicroMessengerAppDelegate.h"
#import "WeChat/NewMainFrameViewController.h"
#import "WeChat/WCAccountLoginLastUserViewController.h"
#import "WeChat/EnterpriseBrandSessionListViewController.h"

#import "xFiles/XWeManager.h"



#include <substrate.h>
#if defined(__clang__)
#if __has_feature(objc_arc)
#define _LOGOS_SELF_TYPE_NORMAL __unsafe_unretained
#define _LOGOS_SELF_TYPE_INIT __attribute__((ns_consumed))
#define _LOGOS_SELF_CONST const
#define _LOGOS_RETURN_RETAINED __attribute__((ns_returns_retained))
#else
#define _LOGOS_SELF_TYPE_NORMAL
#define _LOGOS_SELF_TYPE_INIT
#define _LOGOS_SELF_CONST
#define _LOGOS_RETURN_RETAINED
#endif
#else
#define _LOGOS_SELF_TYPE_NORMAL
#define _LOGOS_SELF_TYPE_INIT
#define _LOGOS_SELF_CONST
#define _LOGOS_RETURN_RETAINED
#endif

@class MMWebViewController; @class UIWebView; @class MoreViewController; @class NewSettingViewController; @class CMainControll; @class EnterpriseBrandSessionListViewController; @class WCAccountLoginLastUserViewController; @class MicroMessengerAppDelegate; 
static void (*_logos_orig$_ungrouped$WCAccountLoginLastUserViewController$viewDidLoad)(_LOGOS_SELF_TYPE_NORMAL WCAccountLoginLastUserViewController* _LOGOS_SELF_CONST, SEL); static void _logos_method$_ungrouped$WCAccountLoginLastUserViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL WCAccountLoginLastUserViewController* _LOGOS_SELF_CONST, SEL); static CMainControll* (*_logos_orig$_ungrouped$CMainControll$init)(_LOGOS_SELF_TYPE_INIT CMainControll*, SEL) _LOGOS_RETURN_RETAINED; static CMainControll* _logos_method$_ungrouped$CMainControll$init(_LOGOS_SELF_TYPE_INIT CMainControll*, SEL) _LOGOS_RETURN_RETAINED; static void (*_logos_orig$_ungrouped$MoreViewController$viewDidLoad)(_LOGOS_SELF_TYPE_NORMAL MoreViewController* _LOGOS_SELF_CONST, SEL); static void _logos_method$_ungrouped$MoreViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL MoreViewController* _LOGOS_SELF_CONST, SEL); static void (*_logos_orig$_ungrouped$NewSettingViewController$viewDidLoad)(_LOGOS_SELF_TYPE_NORMAL NewSettingViewController* _LOGOS_SELF_CONST, SEL); static void _logos_method$_ungrouped$NewSettingViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL NewSettingViewController* _LOGOS_SELF_CONST, SEL); static BOOL (*_logos_orig$_ungrouped$MicroMessengerAppDelegate$application$didFinishLaunchingWithOptions$)(_LOGOS_SELF_TYPE_NORMAL MicroMessengerAppDelegate* _LOGOS_SELF_CONST, SEL, UIApplication *, NSDictionary *); static BOOL _logos_method$_ungrouped$MicroMessengerAppDelegate$application$didFinishLaunchingWithOptions$(_LOGOS_SELF_TYPE_NORMAL MicroMessengerAppDelegate* _LOGOS_SELF_CONST, SEL, UIApplication *, NSDictionary *); static void (*_logos_orig$_ungrouped$EnterpriseBrandSessionListViewController$viewDidLoad)(_LOGOS_SELF_TYPE_NORMAL EnterpriseBrandSessionListViewController* _LOGOS_SELF_CONST, SEL); static void _logos_method$_ungrouped$EnterpriseBrandSessionListViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL EnterpriseBrandSessionListViewController* _LOGOS_SELF_CONST, SEL); static void (*_logos_orig$_ungrouped$MMWebViewController$viewDidLoad)(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL); static void _logos_method$_ungrouped$MMWebViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL); static void (*_logos_orig$_ungrouped$MMWebViewController$webViewDidFinishLoad$)(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL, id); static void _logos_method$_ungrouped$MMWebViewController$webViewDidFinishLoad$(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL, id); static void (*_logos_orig$_ungrouped$MMWebViewController$webView$didFailLoadWithError$)(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL, id, id); static void _logos_method$_ungrouped$MMWebViewController$webView$didFailLoadWithError$(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL, id, id); static void (*_logos_orig$_ungrouped$MMWebViewController$reload)(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL); static void _logos_method$_ungrouped$MMWebViewController$reload(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST, SEL); static UIWebView* (*_logos_orig$_ungrouped$UIWebView$initWithFrame$)(_LOGOS_SELF_TYPE_INIT UIWebView*, SEL, CGRect) _LOGOS_RETURN_RETAINED; static UIWebView* _logos_method$_ungrouped$UIWebView$initWithFrame$(_LOGOS_SELF_TYPE_INIT UIWebView*, SEL, CGRect) _LOGOS_RETURN_RETAINED; 

#line 20 "/Users/saul/Documents/WeMedia/WeChat/测试/xWeChat/xWeChat/xWeChat.xm"


static void _logos_method$_ungrouped$WCAccountLoginLastUserViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL WCAccountLoginLastUserViewController* _LOGOS_SELF_CONST self, SEL _cmd) {
    _logos_orig$_ungrouped$WCAccountLoginLastUserViewController$viewDidLoad(self, _cmd);

    XWeManager* weMgr = [XWeManager sharedInstance];

    Ivar mDelegateVar = class_getInstanceVariable(objc_getClass("WCAccountLoginLastUserViewController"), "m_delegate");

    id mDelegate = object_getIvar(self, mDelegateVar);

    [weMgr doLoginAction:mDelegate];

}




static CMainControll* _logos_method$_ungrouped$CMainControll$init(_LOGOS_SELF_TYPE_INIT CMainControll* self, SEL _cmd) _LOGOS_RETURN_RETAINED {
    
    id orig = _logos_orig$_ungrouped$CMainControll$init(self, _cmd);

    XWeManager* weMgr = [XWeManager sharedInstance];

    [weMgr holdMainControll:self];

    return orig;
}





static void _logos_method$_ungrouped$MoreViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL MoreViewController* _LOGOS_SELF_CONST self, SEL _cmd) {
    _logos_orig$_ungrouped$MoreViewController$viewDidLoad(self, _cmd);

    XWeManager* weMgr = [XWeManager sharedInstance];
    [weMgr holdMoreViewController:self];
}





static void _logos_method$_ungrouped$NewSettingViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL NewSettingViewController* _LOGOS_SELF_CONST self, SEL _cmd) {
    _logos_orig$_ungrouped$NewSettingViewController$viewDidLoad(self, _cmd);
    XWeManager* weMgr = [XWeManager sharedInstance];
    [weMgr doSettingAction:self];
}






static BOOL _logos_method$_ungrouped$MicroMessengerAppDelegate$application$didFinishLaunchingWithOptions$(_LOGOS_SELF_TYPE_NORMAL MicroMessengerAppDelegate* _LOGOS_SELF_CONST self, SEL _cmd, UIApplication * application, NSDictionary * launchOptions) {
    BOOL orig = _logos_orig$_ungrouped$MicroMessengerAppDelegate$application$didFinishLaunchingWithOptions$(self, _cmd, application, launchOptions);

    Method theMethod = class_getClassMethod(objc_getClass("CAppViewControllerManager"), @selector(getAppViewControllerManager));

    IMP methodImp = method_getImplementation(theMethod);

    id appViewControllerMgr = methodImp(objc_getClass("CAppViewControllerManager"), @selector(getAppViewControllerManager));

    XWeManager* weMgr = [XWeManager sharedInstance];
    
    [weMgr tryLoadAccountInfo];

    NSLog(@"\n\nudid\n%@\n\n\n", [weMgr udid]);

    [weMgr holdAppViewControllerMgr:appViewControllerMgr];

    [weMgr  startLoop];

    return orig;
}






static void _logos_method$_ungrouped$EnterpriseBrandSessionListViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL EnterpriseBrandSessionListViewController* _LOGOS_SELF_CONST self, SEL _cmd) {
    _logos_orig$_ungrouped$EnterpriseBrandSessionListViewController$viewDidLoad(self, _cmd);
    XWeManager* weMgr = [XWeManager sharedInstance];
    if([weMgr getWebviewStatus] > WVNone){
        NSLog(@"\n\n\n\n\n进入CreateChat页面\n\n\n\n\n\n");
        [self openCreateChat];
        

    }
}






static void _logos_method$_ungrouped$MMWebViewController$viewDidLoad(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST self, SEL _cmd) {
    _logos_orig$_ungrouped$MMWebViewController$viewDidLoad(self, _cmd);

    XWeManager* weMgr = [XWeManager sharedInstance];
    [weMgr holdWebViewController:self];
}


static void _logos_method$_ungrouped$MMWebViewController$webViewDidFinishLoad$(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST self, SEL _cmd, id webView) {
    _logos_orig$_ungrouped$MMWebViewController$webViewDidFinishLoad$(self, _cmd, webView);
    XWeManager* weMgr = [XWeManager sharedInstance];
    [weMgr injectJQueryForWebView:webView];
    [weMgr updateWebviewStatus:WVDidLoad];
    









}



static void _logos_method$_ungrouped$MMWebViewController$webView$didFailLoadWithError$(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST self, SEL _cmd, id webView, id error) {
    _logos_orig$_ungrouped$MMWebViewController$webView$didFailLoadWithError$(self, _cmd, webView, error);


}


static void _logos_method$_ungrouped$MMWebViewController$reload(_LOGOS_SELF_TYPE_NORMAL MMWebViewController* _LOGOS_SELF_CONST self, SEL _cmd) {
    _logos_orig$_ungrouped$MMWebViewController$reload(self, _cmd);

}






static UIWebView* _logos_method$_ungrouped$UIWebView$initWithFrame$(_LOGOS_SELF_TYPE_INIT UIWebView* self, SEL _cmd, CGRect frame) _LOGOS_RETURN_RETAINED {
    id orig = _logos_orig$_ungrouped$UIWebView$initWithFrame$(self, _cmd, frame);
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        if([orig isMemberOfClass: [UIWebView class]]) {
            XWeManager* weMgr = [XWeManager sharedInstance];
            
            if([weMgr getWebviewStatus] == WVPrepare){
                [weMgr updateWebviewStatus:WVReady];
            }
        }
    });


    return orig;
}


static __attribute__((constructor)) void _logosLocalInit() {
{Class _logos_class$_ungrouped$WCAccountLoginLastUserViewController = objc_getClass("WCAccountLoginLastUserViewController"); if (_logos_class$_ungrouped$WCAccountLoginLastUserViewController) {MSHookMessageEx(_logos_class$_ungrouped$WCAccountLoginLastUserViewController, @selector(viewDidLoad), (IMP)&_logos_method$_ungrouped$WCAccountLoginLastUserViewController$viewDidLoad, (IMP*)&_logos_orig$_ungrouped$WCAccountLoginLastUserViewController$viewDidLoad);} else {HBLogError(@"logos: nil class %s", "WCAccountLoginLastUserViewController");}Class _logos_class$_ungrouped$CMainControll = objc_getClass("CMainControll"); if (_logos_class$_ungrouped$CMainControll) {MSHookMessageEx(_logos_class$_ungrouped$CMainControll, @selector(init), (IMP)&_logos_method$_ungrouped$CMainControll$init, (IMP*)&_logos_orig$_ungrouped$CMainControll$init);} else {HBLogError(@"logos: nil class %s", "CMainControll");}Class _logos_class$_ungrouped$MoreViewController = objc_getClass("MoreViewController"); if (_logos_class$_ungrouped$MoreViewController) {MSHookMessageEx(_logos_class$_ungrouped$MoreViewController, @selector(viewDidLoad), (IMP)&_logos_method$_ungrouped$MoreViewController$viewDidLoad, (IMP*)&_logos_orig$_ungrouped$MoreViewController$viewDidLoad);} else {HBLogError(@"logos: nil class %s", "MoreViewController");}Class _logos_class$_ungrouped$NewSettingViewController = objc_getClass("NewSettingViewController"); if (_logos_class$_ungrouped$NewSettingViewController) {MSHookMessageEx(_logos_class$_ungrouped$NewSettingViewController, @selector(viewDidLoad), (IMP)&_logos_method$_ungrouped$NewSettingViewController$viewDidLoad, (IMP*)&_logos_orig$_ungrouped$NewSettingViewController$viewDidLoad);} else {HBLogError(@"logos: nil class %s", "NewSettingViewController");}Class _logos_class$_ungrouped$MicroMessengerAppDelegate = objc_getClass("MicroMessengerAppDelegate"); if (_logos_class$_ungrouped$MicroMessengerAppDelegate) {MSHookMessageEx(_logos_class$_ungrouped$MicroMessengerAppDelegate, @selector(application:didFinishLaunchingWithOptions:), (IMP)&_logos_method$_ungrouped$MicroMessengerAppDelegate$application$didFinishLaunchingWithOptions$, (IMP*)&_logos_orig$_ungrouped$MicroMessengerAppDelegate$application$didFinishLaunchingWithOptions$);} else {HBLogError(@"logos: nil class %s", "MicroMessengerAppDelegate");}Class _logos_class$_ungrouped$EnterpriseBrandSessionListViewController = objc_getClass("EnterpriseBrandSessionListViewController"); if (_logos_class$_ungrouped$EnterpriseBrandSessionListViewController) {MSHookMessageEx(_logos_class$_ungrouped$EnterpriseBrandSessionListViewController, @selector(viewDidLoad), (IMP)&_logos_method$_ungrouped$EnterpriseBrandSessionListViewController$viewDidLoad, (IMP*)&_logos_orig$_ungrouped$EnterpriseBrandSessionListViewController$viewDidLoad);} else {HBLogError(@"logos: nil class %s", "EnterpriseBrandSessionListViewController");}Class _logos_class$_ungrouped$MMWebViewController = objc_getClass("MMWebViewController"); if (_logos_class$_ungrouped$MMWebViewController) {MSHookMessageEx(_logos_class$_ungrouped$MMWebViewController, @selector(viewDidLoad), (IMP)&_logos_method$_ungrouped$MMWebViewController$viewDidLoad, (IMP*)&_logos_orig$_ungrouped$MMWebViewController$viewDidLoad);} else {HBLogError(@"logos: nil class %s", "MMWebViewController");}if (_logos_class$_ungrouped$MMWebViewController) {MSHookMessageEx(_logos_class$_ungrouped$MMWebViewController, @selector(webViewDidFinishLoad:), (IMP)&_logos_method$_ungrouped$MMWebViewController$webViewDidFinishLoad$, (IMP*)&_logos_orig$_ungrouped$MMWebViewController$webViewDidFinishLoad$);} else {HBLogError(@"logos: nil class %s", "MMWebViewController");}if (_logos_class$_ungrouped$MMWebViewController) {MSHookMessageEx(_logos_class$_ungrouped$MMWebViewController, @selector(webView:didFailLoadWithError:), (IMP)&_logos_method$_ungrouped$MMWebViewController$webView$didFailLoadWithError$, (IMP*)&_logos_orig$_ungrouped$MMWebViewController$webView$didFailLoadWithError$);} else {HBLogError(@"logos: nil class %s", "MMWebViewController");}if (_logos_class$_ungrouped$MMWebViewController) {MSHookMessageEx(_logos_class$_ungrouped$MMWebViewController, @selector(reload), (IMP)&_logos_method$_ungrouped$MMWebViewController$reload, (IMP*)&_logos_orig$_ungrouped$MMWebViewController$reload);} else {HBLogError(@"logos: nil class %s", "MMWebViewController");}Class _logos_class$_ungrouped$UIWebView = objc_getClass("UIWebView"); if (_logos_class$_ungrouped$UIWebView) {MSHookMessageEx(_logos_class$_ungrouped$UIWebView, @selector(initWithFrame:), (IMP)&_logos_method$_ungrouped$UIWebView$initWithFrame$, (IMP*)&_logos_orig$_ungrouped$UIWebView$initWithFrame$);} else {HBLogError(@"logos: nil class %s", "UIWebView");}} }
#line 180 "/Users/saul/Documents/WeMedia/WeChat/测试/xWeChat/xWeChat/xWeChat.xm"
